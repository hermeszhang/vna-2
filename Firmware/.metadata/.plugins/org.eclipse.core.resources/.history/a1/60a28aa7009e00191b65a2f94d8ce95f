#ifndef TXCHAIN_H_
#define TXCHAIN_H_

// Insertion loss in DB in the path of AD8319 power detector
#define IL_6DB_SPLITTER 	6.0
#define IL_15DB_COUPLING 	15.0

// SDADC values
#define VREF 				3.30
#define NUM_STATES_16_BIT	65536

extern struct MAX2871Struct max2871Status;

typedef struct txStruct{
	float measOutputPower;
	float setOutputPower;
	float attenuation;
	uint8_t filter;
}txStruct;

extern void sweep(float startFreq, float endFreq, float numSteps, float sweepTime, struct MAX2871Struct *max2871Status, struct txStruct *txStatus);
extern void txChainInit(struct txStruct *txStatus);
extern int8_t setFilter(float frequency);
extern void setAttenuation(float atten, struct txStruct *txStatus);
extern void setOutputPower(float setPower, struct gainStruct *gainStatus);
extern float readAD8319(void);

#endif
