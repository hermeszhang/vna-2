#ifndef TXCHAIN_H_
#define TXCHAIN_H_

extern struct MAX2871Struct max2871Status;
extern struct gainStruct gainStatus;

typedef struct txStruct{
	float measOutputPower;
	float setOutputPower;
	float attenuation;
	uint8_t filter;
}gainStruct;

extern void gainBlockSetup(struct gainStruct *gainStatus);
extern void setOutputPowerUSB(struct gainStruct *gainStatus);
extern void setOutputPower(float setPower, struct gainStruct *gainStatus);
extern void gainBlockPrintStatus(struct gainStruct *gainStatus);

int8_t setFilter(float frequency);
void max2871Sweep(float startFreq, float endFreq, float numSteps, float sweepTime, struct MAX2871Struct *max2871Status);
void max2871SweepUSB(struct MAX2871Struct *max2871Status);

extern void intToBinArray(uint8_t in, uint8_t* out);
extern uint8_t setAttenuation(float atten, struct gainStruct *gainStatus);

extern float adcToVolts(uint32_t adcValue, uint32_t resolution);
extern float readAD8319(void);


#endif
